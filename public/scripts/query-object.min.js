/**
 * jQuery.query - Query String Modification and Creation for jQuery
 * Written by Blair Mitchelmore (blair DOT mitchelmore AT gmail DOT com)
 * Licensed under the WTFPL (http://sam.zoy.org/wtfpl/).
 * Date: 2009/8/13
 *
 * @author Blair Mitchelmore
 * @version 2.2.3
 *
 **/
new function(b){var c=b.separator||'&',d=!1!==b.spaces,e=!1===b.suffix?'':'[]',f=!1!==b.prefix,g=f?!0===b.hash?'#':'?':'',h=!1!==b.numbers;jQuery.query=new function(){var j=function(p,r){return void 0!=p&&null!==p&&(!!!r||p.constructor==r)},k=function(p){for(var r,s=/\[([^[]*)\]/g,u=/^([^[]+)(\[.*\])?$/.exec(p),v=u[1],w=[];r=s.exec(u[2]);)w.push(r[1]);return[v,w]},l=function(p,r,s){var v=r.shift();if('object'!=typeof p&&(p=null),''===v){if(p||(p=[]),j(p,Array))p.push(0==r.length?s:l(null,r.slice(0),s));else if(j(p,Object)){for(var w=0;null!=p[w++];);p[--w]=0==r.length?s:l(p[w],r.slice(0),s)}else p=[],p.push(0==r.length?s:l(null,r.slice(0),s));}else if(v&&v.match(/^\s*[0-9]+\s*$/)){var x=parseInt(v,10);p||(p=[]),p[x]=0==r.length?s:l(p[x],r.slice(0),s)}else if(v){var x=v.replace(/^\s*|\s*$/g,'');if(p||(p={}),j(p,Array)){for(var y={},w=0;w<p.length;++w)y[w]=p[w];p=y}p[x]=0==r.length?s:l(p[x],r.slice(0),s)}else return s;return p},n=function(p){var r=this;return r.keys={},p.queryObject?jQuery.each(p.get(),function(s,u){r.SET(s,u)}):r.parseNew.apply(r,arguments),r};return n.prototype={queryObject:!0,parseNew:function(){var p=this;return p.keys={},jQuery.each(arguments,function(){var r=''+this;r=r.replace(/^[?#]/,''),r=r.replace(/[;&]$/,''),d&&(r=r.replace(/[+]/g,' ')),jQuery.each(r.split(/[&;]/),function(){var s=decodeURIComponent(this.split('=')[0]||''),u=decodeURIComponent(this.split('=')[1]||'');s&&(h&&(/^[+-]?[0-9]+\.[0-9]*$/.test(u)?u=parseFloat(u):/^[+-]?[1-9][0-9]*$/.test(u)&&(u=parseInt(u,10))),u=u||0===u?u:!0,p.SET(s,u))})}),p},has:function(p,r){var s=this.get(p);return j(s,r)},GET:function(p){if(!j(p))return this.keys;for(var r=k(p),s=r[0],u=r[1],v=this.keys[s];null!=v&&0!=u.length;)v=v[u.shift()];return'number'==typeof v?v:v||''},get:function(p){var r=this.GET(p);return j(r,Object)?jQuery.extend(!0,{},r):j(r,Array)?r.slice(0):r},SET:function(p,r){var s=j(r)?r:null,u=k(p),v=u[0],w=u[1],x=this.keys[v];return this.keys[v]=l(x,w.slice(0),s),this},set:function(p,r){return this.copy().SET(p,r)},REMOVE:function(p,r){if(r){var s=this.GET(p);if(j(s,Array)){for(tval in s)s[tval]=s[tval].toString();var u=$.inArray(r,s);if(0<=u)p=s.splice(u,1),p=p[u];else return}else if(r!=s)return}return this.SET(p,null).COMPACT()},remove:function(p,r){return this.copy().REMOVE(p,r)},EMPTY:function(){var p=this;return jQuery.each(p.keys,function(r){delete p.keys[r]}),p},load:function(p){var r=p.replace(/^.*?[#](.+?)(?:\?.+)?$/,'$1'),s=p.replace(/^.*?[?](.+?)(?:#.+)?$/,'$1');return new n(p.length==s.length?'':s,p.length==r.length?'':r)},empty:function(){return this.copy().EMPTY()},copy:function(){return new n(this)},COMPACT:function(){function p(r){var s='object'==typeof r?j(r,Array)?[]:{}:r;if('object'==typeof r){function u(v,w,x){j(v,Array)?v.push(x):v[w]=x}jQuery.each(r,function(v,w){return!j(w)||void u(s,v,p(w))})}return s}return this.keys=p(this.keys),this},compact:function(){return this.copy().COMPACT()},toString:function(){var r=[],s=[],u=this,v=function(y){return y+='',y=encodeURIComponent(y),d&&(y=y.replace(/%20/g,'+')),y},w=function(y,z,A){if(j(A)&&!1!==A){var B=[v(z)];!0!==A&&(B.push('='),B.push(v(A))),y.push(B.join(''))}},x=function(y,z){var A=function(B){return z&&''!=z?[z,'[',B,']'].join(''):[B].join('')};jQuery.each(y,function(B,C){'object'==typeof C?x(C,A(B)):w(s,A(B),C)})};return x(this.keys),0<s.length&&r.push(g),r.push(s.join(c)),r.join('')}},new n(location.search,location.hash)}}(jQuery.query||{});
